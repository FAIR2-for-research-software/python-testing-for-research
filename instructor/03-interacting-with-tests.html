<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en" data-bs-theme="auto"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Software Testing for Research - Python: Interacting with Tests</title><meta name="viewport" content="width=device-width, initial-scale=1"><script src="../assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="../assets/styles.css"><script src="../assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="manifest" href="../site.webmanifest"><link rel="mask-icon" href="../safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="black"></head><body>
    <header id="top" class="navbar navbar-expand-md top-nav incubator"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="incubator-logo" alt="Carpentries Incubator" src="../assets/images/incubator-logo.svg"><span class="badge text-bg-danger">
          <abbr title="This lesson is in the pre-alpha phase, which means that it is in early development, but has not yet been taught.">
            <a href="https://cdh.carpentries.org/the-lesson-life-cycle.html#early-development-pre-alpha-through-alpha" class="external-link alert-link">
              <i aria-hidden="true" class="icon" data-feather="alert-octagon" style="border-radius: 5px"></i>
              Pre-Alpha
            </a>
            <span class="visually-hidden">This lesson is in the pre-alpha phase, which means that it is in early development, but has not yet been taught.</span>
          </abbr>
        </span>

      </div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text"><li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul></li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li><button class="dropdown-item" type="button" onclick="window.location.href='../03-interacting-with-tests.html';">Learner View</button></li>
        </ul></div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav incubator" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Carpentries Incubator" src="../assets/images/incubator-logo-sm.svg"></div>
    <div class="lesson-title-md">
      Software Testing for Research - Python
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Search the All In One page" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item">
          <span class="lesson-title">
            Software Testing for Research - Python
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/instructor-notes.html">Instructor Notes</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/images.html">Extract All Images</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"><hr><li><a class="dropdown-item" href="reference.html">Reference</a></li>
          </ul></li>
      </ul></div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Search the All In One page"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="../instructor/aio.html" role="button" aria-label="Search the All In One page">Search the All In One page</a>
  </div><!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Software Testing for Research - Python
</div>

<aside class="col-md-12 lesson-progress"><div style="width: 27%" class="percentage">
    27%
  </div>
  <div class="progress incubator">
    <div class="progress-bar incubator" role="progressbar" style="width: 27%" aria-valuenow="27" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text"><li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul></li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="../03-interacting-with-tests.html">Learner View</a>
                      </div>
                    </div>
                  </div><!--/div.accordion-item-->
                </div><!--/div.accordion-flush-->
              </div><!--div.sidenav-view-selector -->
            </div><!--/div.col -->

            <hr></div><!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Schedule</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="00-introduction.html">1. Introduction</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="01-why-test-my-code.html">2. Why Test My Code?</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="02-simple-tests.html">3. Simple Tests</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlushcurrent">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-headingcurrent">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapsecurrent" aria-expanded="true" aria-controls="flush-collapsecurrent">
        <span class="visually-hidden">Current Chapter</span>
        <span class="current-chapter">
        4. Interacting with Tests
        </span>
      </button>
    </div><!--/div.accordion-header-->

    <div id="flush-collapsecurrent" class="accordion-collapse collapse show" aria-labelledby="flush-headingcurrent" data-bs-parent="#accordionFlushcurrent">
      <div class="accordion-body">
        <ul><li><a href="#running-pytest">Running pytest</a></li>
<li><a href="#test-output">Test output</a></li>
<li><a href="#errors-in-collection">Errors in collection</a></li>
<li><a href="#pytest-options">Pytest options</a></li>
        </ul></div><!--/div.accordion-body-->
    </div><!--/div.accordion-collapse-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="04-unit-tests-best-practices.html">5. Unit tests &amp; Testing Practices</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="05-testing-exceptions.html">6. Testing for Exceptions</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush8">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading8">
        <a href="06-testing-data-structures.html">7. Testing Data Structures</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush9">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading9">
        <a href="07-fixtures.html">8. Fixtures</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush10">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading10">
        <a href="08-parametrization.html">9. Parametrization</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush11">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading11">
        <a href="09-testing-output-files.html">10. Regression Testing and Plots</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush12">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading12">
        <a href="10-CI.html">11. Continuous Integration with GitHub Actions</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width"><div class="accordion accordion-flush resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul><li>
                        <a href="../instructor/key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="../instructor/instructor-notes.html">Instructor Notes</a>
                      </li>
                      <li>
                        <a href="../instructor/images.html">Extract All Images</a>
                      </li>
                      <hr><li><a class="dropdown-item" href="reference.html">Reference</a></li>
                    </ul></div>
                </div>
              </div>
            </div>
            <hr class="half-width resources"><a href="../instructor/aio.html">See all in one page</a>


            <hr class="d-none d-sm-block d-md-none"><div class="d-grid gap-1">

            </div>
          </div><!-- /div.accordion -->
        </div><!-- /div.sidebar-inner -->
      </nav></div><!-- /div.sidebar -->
  </div><!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-instructor.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <nav class="lesson-content mx-md-4" aria-label="Previous and Next Chapter"><!-- content for small screens --><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="../instructor/02-simple-tests.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="../instructor/04-unit-tests-best-practices.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="../instructor/02-simple-tests.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Simple Tests
        </a>
        <a class="chapter-link float-end" href="../instructor/04-unit-tests-best-practices.html" rel="next">
          Next: Unit tests &amp; Testing...
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
      <hr></nav><main id="main-content" class="main-content"><div class="container lesson-content">
        <h1>Interacting with Tests</h1>
        <p>Last updated on 2024-08-13 |

        <a href="https://github.com/SylviaWhittle/python-testing-for-research/edit/main/episodes/03-interacting-with-tests.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>



        <p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 12 minutes</p>

        <div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>

        

<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul><li>How do I use pytest to run my tests?</li>
<li>What does the output of pytest look like and how do I interpret
it?</li>
</ul></div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul><li>Understand how to run tests using pytest.</li>
<li>Understand how to interpret the output of pytest.</li>
</ul></div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="running-pytest">Running pytest<a class="anchor" aria-label="anchor" href="#running-pytest"></a>
<a class="anchor" aria-label="anchor" href="#running-pytest"></a></h2>
<hr class="half-width"><p>As we saw in the previous lesson, you can invoke pytest using the
<code>pytest</code> terminal command. This searches within the current
directory (and any sub-directories) for files that start or end with
‘test’. For example: <code>test_scripts.py</code>,
<code>scripts_test.py</code>. It then searches for tests in these files,
which are functions (or classes) with names start with ‘test’, such as
the <code>test_add</code> function we made in the previous lesson.</p>
<p>So far, we should have a file called <code>calculator.py</code> with
an <code>add</code> and <code>multiply</code> function, and a file
called <code>test_calculator.py</code> with <code>test_add</code> and
<code>test_multiply</code> functions. If you are missing either of
these, they are listed in the previous lesson.</p>
<p>To show off pytest’s ability to search multiple files for tests,
let’s create a directory (folder) inside the current project directory
called <code>advanced</code> where we will add some advanced calculator
functionality.</p>
<ul><li>Create a directory called <code>advanced</code> inside your project
directory.</li>
<li>Inside this directory, create a file called
<code>advanced_calculator.py</code> and a file called
<code>test_advanced_calculator.py</code>.</li>
</ul><p>Your project directory should now look like this:</p>
<pre><code>project_directory/
│
├── calculator.py
├── test_calculator.py
│
└── advanced/
    ├── advanced_calculator.py
    └── test_advanced_calculator.py</code></pre>
<ul><li>In the <code>advanced_calculator.py</code> file, add the following
code:</li>
</ul><div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="kw">def</span> power(value, exponent):</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>    <span class="co">"""Raise a value to an exponent"""</span></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a>    result <span class="op">=</span> value</span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a>    <span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(exponent<span class="op">-</span><span class="dv">1</span>):</span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>        result <span class="op">*=</span> value</span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a>    <span class="cf">return</span> result</span></code></pre>
</div>
<ul><li>In the <code>test_advanced_calculator.py</code> file, add the
following test:</li>
</ul><div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="im">from</span> advanced_calculator <span class="im">import</span> power</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="kw">def</span> test_power():</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>    <span class="co">"""Test for the power function"""</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>    <span class="cf">assert</span> power(<span class="dv">2</span>, <span class="dv">3</span>) <span class="op">==</span> <span class="dv">8</span></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>    <span class="cf">assert</span> power(<span class="dv">3</span>, <span class="dv">3</span>) <span class="op">==</span> <span class="dv">27</span></span></code></pre>
</div>
<ul><li>Now run <code>pytest</code> in the terminal. You should see that all
tests pass due to the <span style="color:green">green</span>
output.</li>
</ul><p>Let’s have a closer look at the output of pytest.</p>
</section><section><h2 class="section-heading" id="test-output">Test output<a class="anchor" aria-label="anchor" href="#test-output"></a>
<a class="anchor" aria-label="anchor" href="#test-output"></a></h2>
<hr class="half-width"><p>When running pytest, there are usually two possible outcomes:</p>
<div class="section level3">
<h3 id="case-1-all-tests-pass">Case 1: All tests pass<a class="anchor" aria-label="anchor" href="#case-1-all-tests-pass"></a></h3>
<p>Let’s break down the successful output in more detail.</p>
<pre><code>=== test session starts ===</code></pre>
<ul><li>The first line tells us that pytest has started running tests.</li>
</ul><pre><code>platform darwin -- Python 3.11.0, pytest-8.1.1, pluggy-1.4.0</code></pre>
<ul><li>The next line just tells us the versions of several packages.</li>
</ul><pre><code>rootdir: /Users/sylvi/Documents/GitKraken/python-testing-for-research/episodes/files/03-interacting-with-tests</code></pre>
<ul><li>The next line tells us where the tests are being searched for. In
this case, it is your project directory. So any file that starts or ends
with <code>test</code> anywhere in this directory will be opened and
searched for test functions.</li>
</ul><pre><code>plugins: regtest-2.1.1</code></pre>
<ul><li>This tells us what plugins are being used. In my case, I have a
plugin called <code>regtest</code> that is being used, but you may not.
This is fine and you can ignore it.</li>
</ul><pre><code>collected 3 items</code></pre>
<ul><li>This simply tells us that 3 tests have been found and are ready to
be run.</li>
</ul><pre><code>advanced/test_advanced_calculator.py .
test_calculator.py ..    [100%]</code></pre>
<ul><li>These two lines tells us that the tests in
<code>test_calculator.py</code> and
<code>advanced/test_advanced_calculator.py</code> have passed. Each
<code>.</code> means that a test has passed. There are two of them
beside <code>test_calculator.py</code> because there are two tests in
<code>test_calculator.py</code> If a test fails, it will show an
<code>F</code> instead of a <code>.</code>.</li>
</ul><div style="color:green">
<pre><code>=== 3 passed in 0.01s ===</code></pre>
</div>
<ul><li>This tells us that the 3 tests have passed in 0.01 seconds.</li>
</ul></div>
<div class="section level3">
<h3 id="case-2-some-or-all-tests-fail">Case 2: Some or all tests fail<a class="anchor" aria-label="anchor" href="#case-2-some-or-all-tests-fail"></a></h3>
<p>Now let’s look at the output when the tests fail. Edit a test in
<code>test_calculator.py</code> to make it fail (for example switching
the <code>+</code> in <code>add</code> to a <code>-</code>), then run
<code>pytest</code> again.</p>
<p>The start is much the same as before:</p>
<pre><code>=== test session starts ===
platform darwin -- Python 3.11.0, pytest-8.1.1, pluggy-1.4.0
rootdir: /Users/sylvi/Documents/GitKraken/python-testing-for-research/episodes/files/03-interacting-with-tests
plugins: regtest-2.1.1
collected 3 items</code></pre>
<p>But now we see that the tests have failed:</p>
<pre><code>advanced/test_advanced_calculator.py .                                                                                                                                                                                                                                                                                                                                      [ 33%]
test_calculator.py F. </code></pre>
<p>These <code>F</code> tells us that a test has failed. The output then
tells us which test has failed:</p>
<pre><code>=== FAILURES ===

___ test_add ___
    def test_add():
        """Test for the add function"""
&gt;       assert add(1, 2) == 3
E       assert -1 == 3
E       +  where -1 = add(1, 2)

test_calculator.py:21: AssertionError</code></pre>
<p>This is where we get detailled information about what exactly broke
in the test.</p>
<ul><li>The <code>&gt;</code> chevron points to the line that failed in the
test. In this case, the assertion <code>assert add(1, 2) == 3</code>
failed.</li>
<li>The following line tells us what the assertion tried to do. In this
case, it tried to assert that the number -1 was equal to 3. Which of
course it isn’t.</li>
<li>The next line goes into more detail about why it tried to equate -1
to 3. It tells us that -1 is the result of calling
<code>add(1, 2)</code>.</li>
<li>The final line tells us where the test failed. In this case, it was
on line 21 of <code>test_calculator.py</code>.</li>
</ul><p>Using this detailled output, we can quickly find the exact line that
failed and know the inputs that caused the failure. From there, we can
examine exactly what went wrong and fix it.</p>
<p>Finally, pytest prints out a short summary of all the failed
tests:</p>
<pre><code>=== short test summary info ===
FAILED test_calculator.py::test_add - assert -1 == 3
=== 1 failed, 2 passed in 0.01s ===</code></pre>
<p>This tells us that one of our tests failed, and gives a short summary
of what went wrong in this test and finally tells us that it took 0.01s
to run the tests.</p>
</div>
</section><section><h2 class="section-heading" id="errors-in-collection">Errors in collection<a class="anchor" aria-label="anchor" href="#errors-in-collection"></a>
<a class="anchor" aria-label="anchor" href="#errors-in-collection"></a></h2>
<hr class="half-width"><p>If pytest encounters an error while collecting the tests, it will
print out an error message and won’t run the tests. This happens when
there is a syntax error in one of the test files, or if pytest can’t
find the test files.</p>
<p>For example, if you remove the <code>:</code> from the end of the
<code>def test_multiply():</code> function definition and run pytest,
you will see the following output:</p>
<pre><code>=== test session starts ===
platform darwin -- Python 3.11.0, pytest-8.1.1, pluggy-1.4.0
Matplotlib: 3.9.0
Freetype: 2.6.1
rootdir: /Users/sylvi/Documents/GitKraken/python-testing-for-research/episodes/files/03-interacting-with-tests.Rmd
plugins: mpl-0.17.0, regtest-2.1.1
collected 1 item / 1 error

=== ERRORS ===
___ ERROR collecting test_calculator.py ___
...
E     File "/Users/sylvi/Documents/GitKraken/python-testing-for-research/episodes/files/03-interacting-with-tests.Rmd/test_calculator.py", line 14
E       def test_multiply()
E                          ^
E   SyntaxError: expected ':'
=== short test summary info ===
ERROR test_calculator.py
!!! Interrupted: 1 error during collection !!!
=== 1 error in 0.01s ===</code></pre>
<p>This rather scary output is just telling us that there is a syntax
error that needs fixing before the tests can be run.</p>
</section><section><h2 class="section-heading" id="pytest-options">Pytest options<a class="anchor" aria-label="anchor" href="#pytest-options"></a>
<a class="anchor" aria-label="anchor" href="#pytest-options"></a></h2>
<hr class="half-width"><p>Pytest has a number of options that can be used to customize how
tests are run. It is very useful to know about these options as they can
help you to run tests the way you want and get more information if
necessary about a test run.</p>
<div class="section level3">
<h3 id="the-verbose-flag">The verbose flag<a class="anchor" aria-label="anchor" href="#the-verbose-flag"></a></h3>
<p>The verbose flag <code>-v</code> can be used to get more detailed
output from pytest. This can be useful when you want to see more
information about the tests that are being run. For example, running
<code>pytest -v</code> will give you more information about the tests
that are being run, including the names of the tests and the files that
they are in.</p>
</div>
<div class="section level3">
<h3 id="the-quiet-flag">The quiet flag<a class="anchor" aria-label="anchor" href="#the-quiet-flag"></a></h3>
<p>The quiet flag <code>-q</code> can be used to get less detailed
output from pytest. This can be useful when you want to see less
information about the tests that are being run. For example, running
<code>pytest -q</code> will give you less information about the tests
that are being run, including the names of the tests and the files that
they are in.</p>
</div>
<div class="section level3">
<h3 id="running-specific-tests">Running specific tests<a class="anchor" aria-label="anchor" href="#running-specific-tests"></a></h3>
<p>In order to run a specific test, you can use the <code>-k</code> flag
followed by the name of the test you want to run. For example, to run
only the <code>test_add</code> test, you can run
<code>pytest -k test_add</code>. This will only run the
<code>test_add</code> test and ignore the <code>test_multiply</code>
test.</p>
<p>Alternatively you can call a specific test using this notation:
<code>pytest test_calculator.py::test_add</code>. This tells pytest to
only run the <code>test_add</code> test in the
<code>test_calculator.py</code> file.</p>
</div>
<div class="section level3">
<h3 id="stopping-after-the-first-failure">Stopping after the first failure<a class="anchor" aria-label="anchor" href="#stopping-after-the-first-failure"></a></h3>
<p>If you want to stop running tests after the first failure, you can
use the <code>-x</code> flag. This will cause pytest to stop running
tests after the first failure. This is useful when you have lots of
tests that take a while to run.</p>
<div id="challenge---experiment-with-pytest-options" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="challenge---experiment-with-pytest-options" class="callout-inner">
<h3 class="callout-title">Challenge - Experiment with pytest options<a class="anchor" aria-label="anchor" href="#challenge---experiment-with-pytest-options"></a>
</h3>
<div class="callout-content">
<p>Try running pytest with the above options, editing the code to make
the tests fail where necessary to see what happens.</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<ul><li><p>Run <code>pytest -v</code> to see more detailed output.</p></li>
<li><p>Run <code>pytest -q</code> to see less detailed output.</p></li>
<li><p>Run <code>pytest -k test_add</code> to run only the
<code>test_add</code> test.</p></li>
<li><p>Alternatively run
<code>pytest test_calculator.py::test_add</code> to run only the
<code>test_add</code> test.</p></li>
<li><p>Run <code>pytest -x</code> to stop running tests after the first
failure. (Make sure you have a failing test to see this in
action).</p></li>
</ul></div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points<a class="anchor" aria-label="anchor" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul><li>You can run multiple tests at once by running <code>pytest</code> in
the terminal.</li>
<li>Pytest searches for tests in files that start or end with ‘test’ in
the current directory and subdirectories.</li>
<li>The output of pytest tells you which tests have passed and which
have failed and precisely why they failed.</li>
<li>Flags such as <code>-v</code>, <code>-q</code>, <code>-k</code>, and
<code>-x</code> can be used to get more detailed output, less detailed
output, run specific tests, and stop running tests after the first
failure, respectively.</li>
</ul></div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</div>
</section></div> <!-- / div.lesson-content -->
    </main><!-- / main#main-content.main-content --><nav class="bottom-pagination mx-md-4" aria-label="Previous and Next Chapter"><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="../instructor/02-simple-tests.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="../instructor/04-unit-tests-best-practices.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="../instructor/02-simple-tests.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Simple Tests
        </a>
        <a class="chapter-link float-end" href="../instructor/04-unit-tests-best-practices.html" rel="next">
          Next: Unit tests &amp; Testing...
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
    </nav></div> <!-- / div.primary-content.col-xs-12 -->
<!-- END:   inst/pkgdown/templates/content-instructor.html-->

      </div><!--/div.row-->
      		<footer class="row footer mx-md-3"><hr><div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>

        <a href="https://github.com/SylviaWhittle/python-testing-for-research/edit/main/episodes/03-interacting-with-tests.Rmd" class="external-link">Edit on GitHub</a>

	
        | <a href="https://github.com/SylviaWhittle/python-testing-for-research/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/SylviaWhittle/python-testing-for-research/" class="external-link">Source</a></p>
				<p><a href="https://github.com/SylviaWhittle/python-testing-for-research/blob/main/CITATION" class="external-link">Cite</a> | <a href="mailto:sylvia.whittle@sheffield.ac.uk">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.16.5" class="external-link">sandpaper (0.16.5)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.6" class="external-link">pegboard (0.7.6)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.3" class="external-link">varnish (1.0.3)</a></p>
			</div>
		</footer></div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TrainingMaterial",
  "@id": "https://SylviaWhittle.github.io/python-testing-for-research/instructor/03-interacting-with-tests.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/TrainingMaterial/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, data, lesson, The Carpentries, Testing, FAIR4RS, Python, CI, Continuous Integration, Tests",
  "name": "Interacting with Tests",
  "creativeWorkStatus": "active",
  "url": "https://SylviaWhittle.github.io/python-testing-for-research/instructor/03-interacting-with-tests.html",
  "identifier": "https://SylviaWhittle.github.io/python-testing-for-research/instructor/03-interacting-with-tests.html",
  "dateCreated": "2024-03-08",
  "dateModified": "2024-08-13",
  "datePublished": "2024-08-13"
}

  </script><script>
		feather.replace();
	</script></body></html><!-- END:   inst/pkgdown/templates/layout.html-->

